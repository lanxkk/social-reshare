!function(){var t={},e={},n={},i={};!function(){t=function(t){var e=function(){function t(t){t=t||{},i={appid:t.appid||"",img_url:t.img_url||null,img_width:t.img_width||i.img_width,img_height:t.img_height||i.img_height,link:t.link||t.url||window.location.href,url:t.url||t.link||window.location.href,desc:t.desc||t.content||document.title,content:t.content||t.desc||document.title,title:t.title||document.title}}function e(t){window.WeixinJSBridge.invoke(t,i,function(t){})}function n(){return window.WeixinJSBridge&&!window.WeixinJSBridge.__ListenerRegistered?(window.WeixinJSBridge.__ListenerRegistered=!0,window.WeixinJSBridge.on("menu:share:appmessage",function(t){e("sendAppMessage")}),window.WeixinJSBridge.on("menu:share:timeline",function(t){e("shareTimeline")}),void window.WeixinJSBridge.on("menu:share:weibo",function(t){e("shareWeibo")})):(r&&clearTimeout(r),void(60>o&&(o++,r=setTimeout(n,1e3))))}var i={appid:"",img_url:null,img_width:"200",img_height:"200",link:window.location.href,url:window.location.href,desc:document.title,content:document.title,title:document.title},r=0,o=0;return/MicroMessenger/i.test(window.navigator.userAgent)&&(n(),document.addEventListener("WeixinJSBridgeReady",n,!1)),t}();return e}(t),e=function(t){var e=function(){function t(){r=document.getElementsByTagName("meta");for(var t=0;t<r.length;t++){var e=r[t].name;e&&(u[e]={},u[e].el=r[t],u[e].content=r[t].content,u[e].seriation=u[e].content.split(","),u[e].store=n(e))}return o}function n(t){for(var e=u[t].seriation,n={},i=0;i<e.length;i++)if(e[i].length<1)e[i]=null,delete e[i],e.length--;else{var r=e[i].split("="),o=r[0];o&&(n[o]=r[1])}return n}function i(t){return u[t].content=u[t].seriation.join(","),o.setContent(t,u[t].content),o}if(e.prototype.instance)return e.prototype.instance;var r,o=this,u={};this.hasMeta=function(t){return u[t]?1:0},this.createMeta=function(t){if(!this.hasMeta(t)){var e=document.createElement("meta");e.name=t,document.head.appendChild(e),u[t]={},u[t].el=e,u[t].content="",u[t].seriation=[],u[t].store={}}return o},this.setContent=function(t,e){return u[t].content=e,u[t].el.content=e,o},this.getContent=function(t){return u[t]&&u[t].content},this.removeContentProperty=function(t,e){var n=e;if(u[t]){if(null!=u[t].store[n])for(var r=0;r<u[t].seriation.length;r++)if(-1!=u[t].seriation[r].indexOf(e+"=")){u[t].seriation[r]=null,delete u[t].seriation[r];break}i(t)}return o},this.getContentProperty=function(t,e){return u[t]&&u[t].store[e]},this.setContentProperty=function(t,e,n){var r=e,a=e+"="+n;if(u[t]){if(null!=u[t].store[r]){u[t].store[r]=n;for(var s=0;s<u[t].seriation.length;s++)if(-1!=u[t].seriation[s].indexOf(e+"=")){u[t].seriation[s]=a;break}}else u[t].store[r]=n,u[t].seriation.push(a);i(t)}return o},t(),e.prototype.instance=this};return new e}(e),n=function(t){function n(t){t=t||{},i.createMeta("yixin-share-desc").setContent("yixin-share-desc",t.content||document.title),i.createMeta("yixin-share-image").setContent("yixin-share-image",t.img)}var i=e;return n}(n),i=function(e){function i(t){t=t||{},t.link=t.link||window.location.href,t.title=t.title||document.title,t.summary=t.summary||t.title,t.text=t.text||t.summary,t.thumburl=t.thumburl,t.imageurl=t.imageurl||t.thumburl,r(t.title,t.summary,t.thumburl||t.imageurl),o(t.summary,t.thumburl||t.imageurl)}function r(t,e,n,i){u({title:t,content:e,link:n,img_url:i})}function o(t,e){a({content:t,img:e})}var u=t,a=n;return window.SocialAppReshare=i,i}(i)}()}();